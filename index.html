<html>    
    <meta content='width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=YES;' name='viewport'/>
    <h1>Custom WebView Cell with JS observers</h1>
    <body onload="checkIfIsRunningInApp()">
        <h2>This web page is running in the <span id="isRunningInApp"></span></h2>

        <button onClick='goiOSInside();'>Open another article inside the app - iOS</button>
        <button onClick='goiOSOutside();'>Open external site inside the app - iOS</button>
        
        <button onClick='openOnInternalBrowserAndroid();'>Open article inside the app - Android</button>
        <button onClick='openOnExternalBrowserAndroid();'>Open article outside the app - Android</button>
    </body>
    <script>
        function goiOSInside() {
            webkit.messageHandlers.segue.postMessage('https://magnum.htvkubestage.htvapps.com/api/v1/KHTV/content/44600933');
        }
        function goiOSOutside() {
            webkit.messageHandlers.segue.postMessage('https://www.amazon.com/');
        }
        function openOnInternalBrowserAndroid() {
            AndroidJSInterface.openUrlInsideApp('https://www.khtvnews.com/article/hello-summer-time/44600933');
        }
        function openOnExternalBrowserAndroid() {
            AndroidJSInterface.openUrlInExternalBrowser('https://www.khtvnews.com/article/hello-summer-time/44600933');
        }
        
        function isRunningInsideTheApp() {
            try {
                return localStorage.getItem("isNative");
            } catch (error) {
                try {
                    return AndroidJSInterface.isNative();
                } catch (error2) {
                    return false;
                }
            }
        }
        
        function checkIfIsRunningInApp() {
            var message = "browser";
            const isInsideApp = isRunningInsideTheApp();
            
            if (isInsideApp) {
                message = "app";
            } 
            
            document.getElementById("isRunningInApp").innerHTML = message;
        }
        
    </script>
</html>